define("gAlert",["jquery"],function(){jQuery.fn.gAlert=function(t){function e(){var t=$(".ui-alert");t.css({width:a.width});var e=u.width(),o=u.height(),i=t.innerWidth(),l=t.innerHeight();$("html,body").css({width:"100%",height:"100%"}),t.css({left:(e-i)/2,top:(o-l)/2}),n(),c(),$(".ui-alert-cover").on("click",function(){r()})}function n(){$("#btnSuccess").on("click",function(){r(),a.success()})}function c(){$("#btnCancel").on("click",function(){r(),a.cancel()})}function r(){s.children(".ui-alert,.ui-alert-cover").remove(),$(".ui-alert-cover").on("click",function(){s.children(".ui-alert,.ui-alert-cover").remove()})}var o=function(){},a={title:"",info:"",btn:0,width:"500px",success:o,cancel:o,callback:o};a=$.extend(a,t);var i="";switch(a.btn){case 0:i="";break;case 1:i='<button id="btnSuccess" class="btn btn-success">确定</button>';break;case 2:i='<button id="btnSuccess" class="btn btn-success">确定</button>&nbsp;&nbsp;<button id="btnCancel" class="btn btn-default">取消</button>';break;default:i='<button id="btnSuccess" class="btn btn-success">确定</button>'}var l='<div class="ui-alert-cover"></div><div class="ui-alert"><div class="ui-alert-title"><h2>'+a.title+'</h2></div><div class="ui-alert-info"><p>'+a.info+'</p></div><div class="ui-alert-btn">'+i+"</div></div>",u=($(document),$(window)),s=$("body");s.append(l),e(),u.resize(function(){e()})}}),define("gAjax",["require","exports","module","jquery","gAlert"],function(t,e,n){var c=t("jquery");t("gAlert");jQuery.fn.gAjax=function(t){"use strict";var e=function(){},n=(c("body"),c(document),c(window)),r=c(this),o=e,a=e,i={type:"GET",url:"",async:!0,data:null,loading:0,beforeSend:e,success:e,complete:e,error:e,callback:e};switch(i=c.extend(i,t),i.loading){case 0:default:o=function(){r.attr("disabled","disabled").append("a")},a=function(){r.removeAttr("disabled")};break;case 1:o=function(){r.attr("disabled","disabled")},a=function(){r.removeAttr("disabled")};break;case 2:o=function(){r.attr("disabled","disabled")},a=function(){r.removeAttr("disabled")}}c.ajax({type:i.type||"GET",url:i.url||n.location.href,async:i.async,data:i.data,beforeSend:function(){i.beforeSend(),o()},complete:function(t){i.complete(t),a()},success:function(t){i.success(t)},error:function(){i.error()}}),i.callback(t)}}),require(["jquery","gAlert","gAjax"],function(t,e,n){!function(t){var e=null;t().gAjax({type:"GET",url:"/blogs/sorts",loading:0,success:function(e){t("#categoryBlog").append(e)},error:function(){t().gAlert({title:"",info:"标签加载超时,请刷新",btn:1,width:"200px"})}}),t("#searchBtn").on("click",function(e){var n=t("[name=searchContent]"),c=n.val(),r=null;t().gAjax({type:"GET",url:"/blogs/search?search="+c,async:!1,beforeSend:function(){},success:function(e){return 0===e.success?(t("#categoryBlogGetAct").children().remove(),r=e.domArray):void(1===e.success&&t().gAlert({title:"",info:e.error,btn:1,width:"200px"}))},error:function(){t().gAlert({title:"",info:"搜索超时,请重试",btn:1,width:"200px"})},callback:function(){return t("#categoryBlogGetAct").append(r),r=null}})}),t("#categoryBlog").on("click","button",function(n){var c=t(n.target);e=c.data("category");var r=null;return t().gAjax({type:"GET",url:"/blogs/sorts/category?category="+e,async:!1,beforeSend:function(){},success:function(e){return t("#categoryBlogGetAct").children().remove(),r=e},error:function(){t().gAlert({title:"",info:"加载超时,请重试",btn:1,width:"200px"})},callback:function(){t("#categoryBlogGetAct").append(r)}}),e}),t("#categoryBlogGetAct").on("click","button",function(n){var c=t(n.target),r=c.data("page"),o=null,a=c.attr("id");switch(a){case"blogsPageNext":t().gAjax({type:"GET",url:"/blogs/page?page="+r,async:!1,beforeSend:function(){},success:function(e){return t("#categoryBlogGetAct").children().remove(),o=e},error:function(){t().gAlert({title:"",info:"加载超时,请重试",btn:1,width:"200px"})},callback:function(){t("#categoryBlogGetAct").append(o)}});break;case"categoryPageNext":return t().gAjax({type:"GET",url:"/blogs/sorts/category/page?page="+r,async:!1,data:{category:e},beforeSend:function(){},success:function(e){return t("#categoryBlogGetAct").children().remove(),o=e},error:function(){t().gAlert({title:"",info:"加载超时,请重试",btn:1,width:"200px"})},callback:function(){t("#categoryBlogGetAct").append(o)}}),e=null}})}(jQuery)}),define("app/blog",function(){});